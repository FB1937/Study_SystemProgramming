## 🧭 5장. 쉘과 명령어 사용

### 📌 5.1 쉘 소개

### ✅ 쉘(Shell)이란?

- 운영체제와 사용자 사이에서 명령을 해석하고 실행하는 **명령어 인터프리터**
- 사용자가 입력한 명령어를 해석해 시스템 커널에 전달

### ✅ 쉘의 종류

| 종류 | 실행 파일 경로 | 특징 요약 |
| --- | --- | --- |
| **sh** | /bin/sh | 본 쉘(Bourne shell), 유닉스 기본 쉘 |
| **ksh** | /bin/ksh | 콘 쉘(Korn shell), 본 쉘 확장 |
| **bash** | /bin/bash | 리눅스 기본 쉘, GNU에서 개발 |
| **csh** | /bin/csh | C 쉘, C언어 스타일 |
| **tcsh** | /bin/tcsh | C쉘 개선 버전 |

### ✅ 로그인 쉘

- 로그인 시 자동 실행되는 쉘
- `/etc/passwd` 파일에 정의되어 있음
    
    예:
    
    ```
    chang:x:109:101:Ubuntu:/home/chang:/bin/bash
    
    ```
    

### ✅ 쉘 변경

```bash
$ csh        # 임시로 csh 실행
$ chsh       # 로그인 쉘 영구 변경

```

---

### 📌 5.2 쉘의 기능

### ✅ 주요 기능

- 명령어 해석 및 실행
- 시작 파일 읽기
- 스크립트 실행 (프로그래밍 기능 포함)

### ✅ 환경 변수

- 설정: `변수명=값`
- 출력: `echo $변수명`
- 영구 적용: `export 변수명`
- 전체 보기: `env`

```bash
$ TERM=xterm
$ echo $TERM       # xterm
$ export TERM

```

### ✅ 시작 파일 (start-up file)

- 시스템 전체: `/etc/profile`, `/etc/bash.bashrc`
- 사용자별: `~/.bash_profile`, `~/.bashrc`, `~/.profile`

```bash
$ . .bash_profile   # 즉시 반영

```

예시 `.bash_profile`:

```bash
PATH=$PATH:/usr/local/bin:/etc:.
TERM=xterm
export PATH TERM
echo $USER, Welcome to Linux!

```

---

### 📌 5.3 전면 처리와 후면 처리

### ✅ 전면 처리 (foreground)

- 명령 실행이 끝날 때까지 기다림

```bash
$ 명령어

```

### ✅ 후면 처리 (background)

- `&`를 붙여 동시에 여러 작업 가능

```bash
$ 명령어 &

```

예:

```bash
$ (sleep 100; echo done) &

```

### ✅ 후면 작업 확인

```bash
$ jobs
$ jobs %1

```

### ✅ 후면 작업 전면으로 전환

```bash
$ fg %1

```

---

### 📌 5.4 입출력 재지정

### ✅ 출력 재지정

```bash
$ 명령어 > 파일    # 파일로 덮어쓰기
$ 명령어 >> 파일   # 파일에 추가

```

예:

```bash
$ ls -al > list.txt
$ date >> list.txt

```

### ✅ 입력 재지정

```bash
$ 명령어 < 파일

```

예:

```bash
$ wc < list1.txt

```

### ✅ 문서 내 입력 (Here Document)

```bash
$ 명령어 << 종료문자
입력내용
종료문자

```

예:

```bash
$ wc << END
Hello World
END

```

### ✅ 오류 재지정

```bash
$ 명령어 2> 파일

```

예:

```bash
$ ls /not_exist 2> err.txt

```

### ✅ 파이프 (|) - 명령어 연결

```bash
$ 명령어1 | 명령어2

```

예:

```bash
$ ls | sort -r
$ who | wc -l

```

### ✅ 요약표

| 사용법 | 의미 |
| --- | --- |
| `>` | 표준출력 → 파일 저장 (덮어쓰기) |
| `>>` | 표준출력 → 파일 저장 (추가) |
| `<` | 표준입력 ← 파일 |
| `<<` | 문서 내 입력 |
| `2>` | 오류 출력 → 파일 |
| ` | ` |

---

### 📌 5.5 여러 개 명령어 실행

### ✅ 명령어 열

```bash
$ 명령어1; 명령어2; 명령어3

```

### ✅ 명령어 그룹

```bash
$ (명령어1; 명령어2) > 파일

```

### ✅ 조건 명령어

- `&&`: 앞 명령 성공 시만 실행
- `||`: 앞 명령 실패 시 실행

예:

```bash
$ gcc myprog.c && ./a.out
$ gcc myprog.c || echo 컴파일 실패

```

---

### 📌 5.6 파일 이름 대치와 명령어 대치

### ✅ 파일 이름 대치 (Globbing)

| 패턴 | 의미 |
| --- | --- |
| `*` | 아무 문자열 (0개 이상) |
| `?` | 임의의 한 문자 |
| `[abc]` | 괄호 안의 문자 중 하나 |
| `[a-c]` | a부터 c까지 중 하나 |

예:

```bash
$ ls *.txt
$ ls a?.c
$ gcc [a-c]*.c

```

### ✅ 명령어 대치 (Command Substitution)

```bash
$ echo 현재 시간은 `date`

```

### ✅ 따옴표 차이

| 구분 | 기능 제한 여부 |
| --- | --- |
| `' '` | 변수/명령어/파일명 대치 모두 안 됨 |
| `" "` | 파일 이름 대치만 제한됨 |

예:

```bash
$ name=나가수
$ echo '내 이름은 $name'        # 그대로 출력
$ echo "내 이름은 $name"        # 변수 해석됨

```

---

### ✅ 핵심 요약

- 쉘은 명령어를 해석하고 실행하는 사용자 인터페이스
- 전면/후면 처리로 동시작업 가능
- 입출력 재지정 및 파이프를 통해 명령어 연결 가능
- 조건문 및 명령 그룹으로 논리적 흐름 제어 가능
- 글로빙과 명령어 대치로 자동화된 파일 처리 가능